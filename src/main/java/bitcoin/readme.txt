比特币-起源:
Bitcoin(BTC):A Peer-to-Peer Electronic Cash System(点对点电子现金系统)

比特币-底层机制
*去中心化,P2P分布式数字货币系统
*共识机制-POW工作量证明
*非对称加密算法
*区块链账本技术

比特币-特性
*硬通货-跨境交易
*易携带-只需一个私钥
*隐秘性-只暴露钱包地址
*无货币超发


比特币-钱包
*钱包就是P2P里边的P(节点),主要用来管理私钥和比特币转账地址
*钱包分类:
	-全节点钱包(矿工)
	-轻钱包-只存储维护跟你自己相关的数据
	-中心化钱包-数字货币交易所
*钱包下载地址
https://bitcoin.org/zh_CN/download


比特币-产生
*比特币由矿工(全节点)挖矿产生
*生成的比特币被记录在矿工的名下
*比特币通过矿工的公钥哈希值锁定
*比特币通过交易(UTXO)在节点之间转移
*UTXO-未花费的交易




区块链-分布式账本系统
0	<-	1	<-	2	<-	3	<-	4	<-	5

*共识机制-POW工作量证明
	-通过挖矿证明自己是善意节点,并获得生成区块和在该区块记账的权利
*基于P2P网络,每个全节点都存储着最全的比特币交易记录
*新区块通过包含前一个区块头部的哈希值(区块的唯一标识)建立链接关系
*区块里装的就是所有的比特币交易记录(UTXO)



区块链-挖矿
*在全网中和其他节点竞争计算(解一个难题)的过程
	-证明自己是非恶意节点
*获得的权利和义务
	-记账权-把交易写入区块里
	-广播义务-把区块在全网广播
*获得的奖励
	-挖矿奖励-12.5BTC
	-收取交易手续费


区块链-共识机制
*POW(Proof of Work)-工作量证明
	-通过付出大量工作代价证明自己是非恶意节点
	-计算一个随机数(nonce),算出的正确随机数即POW
	-获取记账权力
	-打包交易并通知其他节点

*理性人都是逐利的,POW抑制了节点的恶意动机




区块链-交易确认
*当一项交易被链上的区块收录后,就是交易确认
*在此区块之后每产生一个区块,此项交易的确认数应该+1
*经过6个以上区块确认的交易才是安全确认的,因为篡改成本巨大
*比特币钱包可以设置交易确认数




区块链-区块生成
0	<-	1	<-	2	<-	3	<-	4	<-	5
*矿工在挖矿前要组建区块
	-将coinbase交易打包进区块
	-将交易池中高优先级的交易打包进区块
	-创建区块头部
	
	版本号	|	父区块哈希	|	Merkle树根	|	时间戳	|	难度值	|	nonce

*挖矿成功后,将计算出来的随机数nonce(POW)填入区块头部,并向临近节点传播




区块链-区块验证:
*相邻节点收到新区块后,立即做一下验证:
	-验证POW的nonce值是否符合难度值
	-检查时间戳是否小于当前时间两小时
	-检查merkle树根是否正确
	-检查区块size要小于区块size的上限
	-第一笔交易必须是coinbase交易
	-验证每个交易

	
	
区块链--分类
*公有链
	-任何人都可以参与使用和维护,信息公开,如比特币,以太坊等
	
*联盟链
	-若干组织共同维护,使用有权限限制,信息受保护,如银联组织

*私有链
	-集中管理者进行限制,内部少数人可以使用,信息不公开



区块链-篡改账本
*双花问题:同一笔比特币被支付多次
